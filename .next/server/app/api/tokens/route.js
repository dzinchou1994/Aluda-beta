"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/tokens/route";
exports.ids = ["app/api/tokens/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Froute&page=%2Fapi%2Ftokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Froute.ts&appDir=%2FUsers%2Fjincho%2FDocuments%2FAluda%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjincho%2FDocuments%2FAluda&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Froute&page=%2Fapi%2Ftokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Froute.ts&appDir=%2FUsers%2Fjincho%2FDocuments%2FAluda%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjincho%2FDocuments%2FAluda&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_jincho_Documents_Aluda_app_api_tokens_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/tokens/route.ts */ \"(rsc)/./app/api/tokens/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/tokens/route\",\n        pathname: \"/api/tokens\",\n        filename: \"route\",\n        bundlePath: \"app/api/tokens/route\"\n    },\n    resolvedPagePath: \"/Users/jincho/Documents/Aluda/app/api/tokens/route.ts\",\n    nextConfigOutput,\n    userland: _Users_jincho_Documents_Aluda_app_api_tokens_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/tokens/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0b2tlbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRva2VucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRva2VucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmppbmNobyUyRkRvY3VtZW50cyUyRkFsdWRhJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmppbmNobyUyRkRvY3VtZW50cyUyRkFsdWRhJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNtQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbHVkYS1haS8/OGVhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvamluY2hvL0RvY3VtZW50cy9BbHVkYS9hcHAvYXBpL3Rva2Vucy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdG9rZW5zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdG9rZW5zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS90b2tlbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvamluY2hvL0RvY3VtZW50cy9BbHVkYS9hcHAvYXBpL3Rva2Vucy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS90b2tlbnMvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Froute&page=%2Fapi%2Ftokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Froute.ts&appDir=%2FUsers%2Fjincho%2FDocuments%2FAluda%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjincho%2FDocuments%2FAluda&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/tokens/route.ts":
/*!*********************************!*\
  !*** ./app/api/tokens/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/session */ \"(rsc)/./lib/session.ts\");\n/* harmony import */ var _lib_tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/tokens */ \"(rsc)/./lib/tokens.ts\");\n\n\n\n\n\nasync function GET() {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    const cookieSess = (0,_lib_session__WEBPACK_IMPORTED_MODULE_3__.getOrCreateSession)();\n    const actor = session?.user?.id ? {\n        type: \"user\",\n        id: session.user.id,\n        plan: \"USER\"\n    } : {\n        type: \"guest\",\n        id: cookieSess.guestId || cookieSess.sessionId\n    };\n    // zero tokens to just fetch usage/limits\n    const { usage, limits } = await (0,_lib_tokens__WEBPACK_IMPORTED_MODULE_4__.canConsume)(actor, 0);\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        actor,\n        usage,\n        limits\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Rva2Vucy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBDO0FBQ0U7QUFDSjtBQUNVO0FBQ1Q7QUFFbEMsZUFBZUs7SUFDcEIsTUFBTUMsVUFBVSxNQUFNTCwyREFBZ0JBLENBQUNDLGtEQUFXQTtJQUNsRCxNQUFNSyxhQUFhSixnRUFBa0JBO0lBQ3JDLE1BQU1LLFFBQVFGLFNBQVNHLE1BQU1DLEtBQ3pCO1FBQUVDLE1BQU07UUFBaUJELElBQUlKLFFBQVFHLElBQUksQ0FBQ0MsRUFBRTtRQUFFRSxNQUFNO0lBQWdCLElBQ3BFO1FBQUVELE1BQU07UUFBa0JELElBQUlILFdBQVdNLE9BQU8sSUFBSU4sV0FBV08sU0FBUztJQUFDO0lBRTdFLHlDQUF5QztJQUN6QyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUcsTUFBTVosdURBQVVBLENBQUNJLE9BQU87SUFDbEQsT0FBT1Isa0ZBQVlBLENBQUNpQixJQUFJLENBQUM7UUFBRVQ7UUFBT087UUFBT0M7SUFBTztBQUNsRCIsInNvdXJjZXMiOlsid2VicGFjazovL2FsdWRhLWFpLy4vYXBwL2FwaS90b2tlbnMvcm91dGUudHM/NjY3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBnZXRPckNyZWF0ZVNlc3Npb24gfSBmcm9tICdAL2xpYi9zZXNzaW9uJ1xuaW1wb3J0IHsgY2FuQ29uc3VtZSB9IGZyb20gJ0AvbGliL3Rva2VucydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpXG4gIGNvbnN0IGNvb2tpZVNlc3MgPSBnZXRPckNyZWF0ZVNlc3Npb24oKVxuICBjb25zdCBhY3RvciA9IHNlc3Npb24/LnVzZXI/LmlkXG4gICAgPyB7IHR5cGU6ICd1c2VyJyBhcyBjb25zdCwgaWQ6IHNlc3Npb24udXNlci5pZCwgcGxhbjogJ1VTRVInIGFzIGNvbnN0IH1cbiAgICA6IHsgdHlwZTogJ2d1ZXN0JyBhcyBjb25zdCwgaWQ6IGNvb2tpZVNlc3MuZ3Vlc3RJZCB8fCBjb29raWVTZXNzLnNlc3Npb25JZCB9XG5cbiAgLy8gemVybyB0b2tlbnMgdG8ganVzdCBmZXRjaCB1c2FnZS9saW1pdHNcbiAgY29uc3QgeyB1c2FnZSwgbGltaXRzIH0gPSBhd2FpdCBjYW5Db25zdW1lKGFjdG9yLCAwKVxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhY3RvciwgdXNhZ2UsIGxpbWl0cyB9KVxufVxuXG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJnZXRPckNyZWF0ZVNlc3Npb24iLCJjYW5Db25zdW1lIiwiR0VUIiwic2Vzc2lvbiIsImNvb2tpZVNlc3MiLCJhY3RvciIsInVzZXIiLCJpZCIsInR5cGUiLCJwbGFuIiwiZ3Vlc3RJZCIsInNlc3Npb25JZCIsInVzYWdlIiwibGltaXRzIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/tokens/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/apple */ \"(rsc)/./node_modules/next-auth/providers/apple.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__.PrismaAdapter)(_lib_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.ALUDAAI_GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.ALUDAAI_GOOGLE_CLIENT_SECRET || \"\"\n        }),\n        (0,next_auth_providers_apple__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.ALUDAAI_APPLE_ID || \"\",\n            clientSecret: process.env.ALUDAAI_APPLE_SECRET || \"\"\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email.toLowerCase()\n                    }\n                });\n                if (!user || !user.password) {\n                    return null;\n                }\n                const valid = await bcryptjs__WEBPACK_IMPORTED_MODULE_5__[\"default\"].compare(credentials.password, user.password);\n                if (!valid) return null;\n                return {\n                    id: user.id,\n                    name: user.name || user.username || undefined,\n                    email: user.email || undefined\n                };\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.name = user.name;\n                token.email = user.email;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.name = token.name;\n                session.user.email = token.email;\n            }\n            return session;\n        }\n    },\n    jwt: {\n        secret: process.env.ALUDAAI_NEXTAUTH_SECRET || process.env.NEXTAUTH_SECRET\n    },\n    secret: process.env.ALUDAAI_NEXTAUTH_SECRET || process.env.NEXTAUTH_SECRET,\n    debug: \"development\" === \"development\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3VEO0FBQ0Y7QUFDWTtBQUNiO0FBQ2Y7QUFDUjtBQUV0QixNQUFNTSxjQUErQjtJQUMxQ0MsU0FBU0osbUVBQWFBLENBQUNDLCtDQUFNQTtJQUM3QkksV0FBVztRQUNUUixzRUFBY0EsQ0FBQztZQUNiUyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLHdCQUF3QixJQUFJO1lBQ2xEQyxjQUFjSCxRQUFRQyxHQUFHLENBQUNHLDRCQUE0QixJQUFJO1FBQzVEO1FBQ0FiLHFFQUFhQSxDQUFDO1lBQ1pRLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0ksZ0JBQWdCLElBQUk7WUFDMUNGLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0ssb0JBQW9CLElBQUk7UUFDcEQ7UUFDQWQsMkVBQW1CQSxDQUFDO1lBQ2xCZSxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFZQyxNQUFNO2dCQUFXO1lBQ2xEO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSSxDQUFDQSxhQUFhQyxTQUFTLENBQUNELGFBQWFJLFVBQVU7b0JBQ2pELE9BQU87Z0JBQ1Q7Z0JBRUEsTUFBTUUsT0FBTyxNQUFNcEIsK0NBQU1BLENBQUNvQixJQUFJLENBQUNDLFVBQVUsQ0FBQztvQkFBRUMsT0FBTzt3QkFBRVAsT0FBT0QsWUFBWUMsS0FBSyxDQUFDUSxXQUFXO29CQUFHO2dCQUFFO2dCQUM5RixJQUFJLENBQUNILFFBQVEsQ0FBQ0EsS0FBS0YsUUFBUSxFQUFFO29CQUMzQixPQUFPO2dCQUNUO2dCQUVBLE1BQU1NLFFBQVEsTUFBTXZCLHdEQUFjLENBQUNhLFlBQVlJLFFBQVEsRUFBRUUsS0FBS0YsUUFBUTtnQkFDdEUsSUFBSSxDQUFDTSxPQUFPLE9BQU87Z0JBRW5CLE9BQU87b0JBQ0xFLElBQUlOLEtBQUtNLEVBQUU7b0JBQ1hiLE1BQU1PLEtBQUtQLElBQUksSUFBSU8sS0FBS08sUUFBUSxJQUFJQztvQkFDcENiLE9BQU9LLEtBQUtMLEtBQUssSUFBSWE7Z0JBQ3ZCO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RDLFNBQVM7UUFDUEMsVUFBVTtJQUNaO0lBQ0FDLE9BQU87UUFDTEMsUUFBUTtJQUNWO0lBQ0FDLFdBQVc7UUFDVCxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRWYsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JlLE1BQU1ULEVBQUUsR0FBR04sS0FBS00sRUFBRTtnQkFDbEJTLE1BQU10QixJQUFJLEdBQUdPLEtBQUtQLElBQUk7Z0JBQ3RCc0IsTUFBTXBCLEtBQUssR0FBR0ssS0FBS0wsS0FBSztZQUMxQjtZQUNBLE9BQU9vQjtRQUNUO1FBQ0EsTUFBTU4sU0FBUSxFQUFFQSxPQUFPLEVBQUVNLEtBQUssRUFBRTtZQUM5QixJQUFJQSxPQUFPO2dCQUNUTixRQUFRVCxJQUFJLENBQUNNLEVBQUUsR0FBR1MsTUFBTVQsRUFBRTtnQkFDMUJHLFFBQVFULElBQUksQ0FBQ1AsSUFBSSxHQUFHc0IsTUFBTXRCLElBQUk7Z0JBQzlCZ0IsUUFBUVQsSUFBSSxDQUFDTCxLQUFLLEdBQUdvQixNQUFNcEIsS0FBSztZQUNsQztZQUNBLE9BQU9jO1FBQ1Q7SUFDRjtJQUNBSyxLQUFLO1FBQ0hFLFFBQVE5QixRQUFRQyxHQUFHLENBQUM4Qix1QkFBdUIsSUFBSS9CLFFBQVFDLEdBQUcsQ0FBQytCLGVBQWU7SUFDNUU7SUFDQUYsUUFBUTlCLFFBQVFDLEdBQUcsQ0FBQzhCLHVCQUF1QixJQUFJL0IsUUFBUUMsR0FBRyxDQUFDK0IsZUFBZTtJQUMxRUMsT0FBT2pDLGtCQUF5QjtBQUNsQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWx1ZGEtYWkvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiXG5pbXBvcnQgQXBwbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9hcHBsZVwiXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXG5pbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL3ByaXNtYS1hZGFwdGVyXCJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIlxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpIGFzIGFueSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkFMVURBQUlfR09PR0xFX0NMSUVOVF9JRCB8fCBcIlwiLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5BTFVEQUFJX0dPT0dMRV9DTElFTlRfU0VDUkVUIHx8IFwiXCIsXG4gICAgfSksXG4gICAgQXBwbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQUxVREFBSV9BUFBMRV9JRCB8fCBcIlwiLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5BTFVEQUFJX0FQUExFX1NFQ1JFVCB8fCBcIlwiLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwudG9Mb3dlckNhc2UoKSB9IH0pXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4gbnVsbFxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lIHx8IHVzZXIudXNlcm5hbWUgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIlxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvYXV0aC9zaWduaW5cIixcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkXG4gICAgICAgIHRva2VuLm5hbWUgPSB1c2VyLm5hbWVcbiAgICAgICAgdG9rZW4uZW1haWwgPSB1c2VyLmVtYWlsXG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW5cbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nXG4gICAgICAgIHNlc3Npb24udXNlci5uYW1lID0gdG9rZW4ubmFtZSBhcyBzdHJpbmdcbiAgICAgICAgc2Vzc2lvbi51c2VyLmVtYWlsID0gdG9rZW4uZW1haWwgYXMgc3RyaW5nXG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvblxuICAgIH1cbiAgfSxcbiAgand0OiB7XG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5BTFVEQUFJX05FWFRBVVRIX1NFQ1JFVCB8fCBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXG4gIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuQUxVREFBSV9ORVhUQVVUSF9TRUNSRVQgfHwgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuICBkZWJ1ZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsXG59XG4iXSwibmFtZXMiOlsiR29vZ2xlUHJvdmlkZXIiLCJBcHBsZVByb3ZpZGVyIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIlByaXNtYUFkYXB0ZXIiLCJwcmlzbWEiLCJiY3J5cHQiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJBTFVEQUFJX0dPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJBTFVEQUFJX0dPT0dMRV9DTElFTlRfU0VDUkVUIiwiQUxVREFBSV9BUFBMRV9JRCIsIkFMVURBQUlfQVBQTEVfU0VDUkVUIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkIiwiY29tcGFyZSIsImlkIiwidXNlcm5hbWUiLCJ1bmRlZmluZWQiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJwYWdlcyIsInNpZ25JbiIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwic2VjcmV0IiwiQUxVREFBSV9ORVhUQVVUSF9TRUNSRVQiLCJORVhUQVVUSF9TRUNSRVQiLCJkZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    datasources: {\n        db: {\n            url: process.env.ALUDAAI_DATABASE_URL\n        }\n    }\n});\nif (true) global.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQU90QyxNQUFNQyxTQUFTQyxPQUFPRCxNQUFNLElBQUksSUFBSUQsd0RBQVlBLENBQUM7SUFDdERHLGFBQWE7UUFDWEMsSUFBSTtZQUNGQyxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLG9CQUFvQjtRQUN2QztJQUNGO0FBQ0YsR0FBRTtBQUVGLElBQUlGLElBQXlCLEVBQWNKLE9BQU9ELE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbHVkYS1haS8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsLnByaXNtYSB8fCBuZXcgUHJpc21hQ2xpZW50KHtcbiAgZGF0YXNvdXJjZXM6IHtcbiAgICBkYjoge1xuICAgICAgdXJsOiBwcm9jZXNzLmVudi5BTFVEQUFJX0RBVEFCQVNFX1VSTCxcbiAgICB9LFxuICB9LFxufSlcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbC5wcmlzbWEgPSBwcmlzbWFcblxuXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiZ2xvYmFsIiwiZGF0YXNvdXJjZXMiLCJkYiIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJBTFVEQUFJX0RBVEFCQVNFX1VSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./lib/session.ts":
/*!************************!*\
  !*** ./lib/session.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearSessionCookie: () => (/* binding */ clearSessionCookie),\n/* harmony export */   createSessionCookie: () => (/* binding */ createSessionCookie),\n/* harmony export */   generateSessionId: () => (/* binding */ generateSessionId),\n/* harmony export */   getOrCreateSession: () => (/* binding */ getOrCreateSession),\n/* harmony export */   getSessionFromCookie: () => (/* binding */ getSessionFromCookie),\n/* harmony export */   updateSessionWithUser: () => (/* binding */ updateSessionWithUser)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\nconst SESSION_COOKIE_NAME = \"aluda_session\";\nconst SESSION_DURATION_DAYS = 7;\n/**\n * Generate a new session ID\n */ function generateSessionId() {\n    return (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n}\n/**\n * Create a new session cookie\n */ function createSessionCookie(sessionId, userId, guestId) {\n    const expiresAt = new Date();\n    expiresAt.setDate(expiresAt.getDate() + SESSION_DURATION_DAYS);\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    cookieStore.set(SESSION_COOKIE_NAME, JSON.stringify({\n        sessionId,\n        userId,\n        guestId,\n        expiresAt: expiresAt.toISOString()\n    }), {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        expires: expiresAt,\n        path: \"/\"\n    });\n}\n/**\n * Get session data from cookie\n */ function getSessionFromCookie() {\n    try {\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n        const sessionCookie = cookieStore.get(SESSION_COOKIE_NAME);\n        if (!sessionCookie?.value) {\n            return null;\n        }\n        const sessionData = JSON.parse(sessionCookie.value);\n        // Check if session has expired\n        if (new Date(sessionData.expiresAt) < new Date()) {\n            // Clear expired cookie\n            cookieStore.delete(SESSION_COOKIE_NAME);\n            return null;\n        }\n        return sessionData;\n    } catch (error) {\n        console.error(\"Error parsing session cookie:\", error);\n        return null;\n    }\n}\n/**\n * Clear session cookie\n */ function clearSessionCookie() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    cookieStore.delete(SESSION_COOKIE_NAME);\n}\n/**\n * Get or create a session for the current request\n */ function getOrCreateSession() {\n    let sessionData = getSessionFromCookie();\n    if (!sessionData) {\n        // Create new guest session\n        const sessionId = generateSessionId();\n        const guestId = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        sessionData = {\n            sessionId,\n            guestId,\n            expiresAt: new Date(Date.now() + SESSION_DURATION_DAYS * 24 * 60 * 60 * 1000)\n        };\n        createSessionCookie(sessionId, undefined, guestId);\n    }\n    return sessionData;\n}\n/**\n * Update session with user ID after authentication\n */ function updateSessionWithUser(sessionId, userId) {\n    const sessionData = getSessionFromCookie();\n    if (sessionData && sessionData.sessionId === sessionId) {\n        createSessionCookie(sessionId, userId, sessionData.guestId);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2Vzc2lvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDSDtBQVNwQyxNQUFNRyxzQkFBc0I7QUFDNUIsTUFBTUMsd0JBQXdCO0FBRTlCOztDQUVDLEdBQ00sU0FBU0M7SUFDZCxPQUFPSCxnREFBTUE7QUFDZjtBQUVBOztDQUVDLEdBQ00sU0FBU0ksb0JBQW9CQyxTQUFpQixFQUFFQyxNQUFlLEVBQUVDLE9BQWdCO0lBQ3RGLE1BQU1DLFlBQVksSUFBSUM7SUFDdEJELFVBQVVFLE9BQU8sQ0FBQ0YsVUFBVUcsT0FBTyxLQUFLVDtJQUV4QyxNQUFNVSxjQUFjZCxxREFBT0E7SUFDM0JjLFlBQVlDLEdBQUcsQ0FBQ1oscUJBQXFCYSxLQUFLQyxTQUFTLENBQUM7UUFDbERWO1FBQ0FDO1FBQ0FDO1FBQ0FDLFdBQVdBLFVBQVVRLFdBQVc7SUFDbEMsSUFBSTtRQUNGQyxVQUFVO1FBQ1ZDLFFBQVFDLGtCQUF5QjtRQUNqQ0MsVUFBVTtRQUNWQyxTQUFTYjtRQUNUYyxNQUFNO0lBQ1I7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0M7SUFDZCxJQUFJO1FBQ0YsTUFBTVgsY0FBY2QscURBQU9BO1FBQzNCLE1BQU0wQixnQkFBZ0JaLFlBQVlhLEdBQUcsQ0FBQ3hCO1FBRXRDLElBQUksQ0FBQ3VCLGVBQWVFLE9BQU87WUFDekIsT0FBTztRQUNUO1FBRUEsTUFBTUMsY0FBMkJiLEtBQUtjLEtBQUssQ0FBQ0osY0FBY0UsS0FBSztRQUUvRCwrQkFBK0I7UUFDL0IsSUFBSSxJQUFJakIsS0FBS2tCLFlBQVluQixTQUFTLElBQUksSUFBSUMsUUFBUTtZQUNoRCx1QkFBdUI7WUFDdkJHLFlBQVlpQixNQUFNLENBQUM1QjtZQUNuQixPQUFPO1FBQ1Q7UUFFQSxPQUFPMEI7SUFDVCxFQUFFLE9BQU9HLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNFO0lBQ2QsTUFBTXBCLGNBQWNkLHFEQUFPQTtJQUMzQmMsWUFBWWlCLE1BQU0sQ0FBQzVCO0FBQ3JCO0FBRUE7O0NBRUMsR0FDTSxTQUFTZ0M7SUFDZCxJQUFJTixjQUFjSjtJQUVsQixJQUFJLENBQUNJLGFBQWE7UUFDaEIsMkJBQTJCO1FBQzNCLE1BQU10QixZQUFZRjtRQUNsQixNQUFNSSxVQUFVUCxnREFBTUE7UUFFdEIyQixjQUFjO1lBQ1p0QjtZQUNBRTtZQUNBQyxXQUFXLElBQUlDLEtBQUtBLEtBQUt5QixHQUFHLEtBQUtoQyx3QkFBd0IsS0FBSyxLQUFLLEtBQUs7UUFDMUU7UUFFQUUsb0JBQW9CQyxXQUFXOEIsV0FBVzVCO0lBQzVDO0lBRUEsT0FBT29CO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVNTLHNCQUFzQi9CLFNBQWlCLEVBQUVDLE1BQWM7SUFDckUsTUFBTXFCLGNBQWNKO0lBRXBCLElBQUlJLGVBQWVBLFlBQVl0QixTQUFTLEtBQUtBLFdBQVc7UUFDdERELG9CQUFvQkMsV0FBV0MsUUFBUXFCLFlBQVlwQixPQUFPO0lBQzVEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbHVkYS1haS8uL2xpYi9zZXNzaW9uLnRzPzFkZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uRGF0YSB7XG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIGd1ZXN0SWQ/OiBzdHJpbmc7XG4gIGV4cGlyZXNBdDogRGF0ZTtcbn1cblxuY29uc3QgU0VTU0lPTl9DT09LSUVfTkFNRSA9ICdhbHVkYV9zZXNzaW9uJztcbmNvbnN0IFNFU1NJT05fRFVSQVRJT05fREFZUyA9IDc7XG5cbi8qKlxuICogR2VuZXJhdGUgYSBuZXcgc2Vzc2lvbiBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIHV1aWR2NCgpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzZXNzaW9uIGNvb2tpZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbkNvb2tpZShzZXNzaW9uSWQ6IHN0cmluZywgdXNlcklkPzogc3RyaW5nLCBndWVzdElkPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKCk7XG4gIGV4cGlyZXNBdC5zZXREYXRlKGV4cGlyZXNBdC5nZXREYXRlKCkgKyBTRVNTSU9OX0RVUkFUSU9OX0RBWVMpO1xuICBcbiAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gIGNvb2tpZVN0b3JlLnNldChTRVNTSU9OX0NPT0tJRV9OQU1FLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgc2Vzc2lvbklkLFxuICAgIHVzZXJJZCxcbiAgICBndWVzdElkLFxuICAgIGV4cGlyZXNBdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gIH0pLCB7XG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICBleHBpcmVzOiBleHBpcmVzQXQsXG4gICAgcGF0aDogJy8nLFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgc2Vzc2lvbiBkYXRhIGZyb20gY29va2llXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uRnJvbUNvb2tpZSgpOiBTZXNzaW9uRGF0YSB8IG51bGwge1xuICB0cnkge1xuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgIGNvbnN0IHNlc3Npb25Db29raWUgPSBjb29raWVTdG9yZS5nZXQoU0VTU0lPTl9DT09LSUVfTkFNRSk7XG4gICAgXG4gICAgaWYgKCFzZXNzaW9uQ29va2llPy52YWx1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlc3Npb25EYXRhOiBTZXNzaW9uRGF0YSA9IEpTT04ucGFyc2Uoc2Vzc2lvbkNvb2tpZS52YWx1ZSk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgc2Vzc2lvbiBoYXMgZXhwaXJlZFxuICAgIGlmIChuZXcgRGF0ZShzZXNzaW9uRGF0YS5leHBpcmVzQXQpIDwgbmV3IERhdGUoKSkge1xuICAgICAgLy8gQ2xlYXIgZXhwaXJlZCBjb29raWVcbiAgICAgIGNvb2tpZVN0b3JlLmRlbGV0ZShTRVNTSU9OX0NPT0tJRV9OQU1FKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gc2Vzc2lvbkRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXNzaW9uIGNvb2tpZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciBzZXNzaW9uIGNvb2tpZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTZXNzaW9uQ29va2llKCk6IHZvaWQge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29va2llU3RvcmUuZGVsZXRlKFNFU1NJT05fQ09PS0lFX05BTUUpO1xufVxuXG4vKipcbiAqIEdldCBvciBjcmVhdGUgYSBzZXNzaW9uIGZvciB0aGUgY3VycmVudCByZXF1ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPckNyZWF0ZVNlc3Npb24oKTogU2Vzc2lvbkRhdGEge1xuICBsZXQgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRnJvbUNvb2tpZSgpO1xuICBcbiAgaWYgKCFzZXNzaW9uRGF0YSkge1xuICAgIC8vIENyZWF0ZSBuZXcgZ3Vlc3Qgc2Vzc2lvblxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gICAgY29uc3QgZ3Vlc3RJZCA9IHV1aWR2NCgpO1xuICAgIFxuICAgIHNlc3Npb25EYXRhID0ge1xuICAgICAgc2Vzc2lvbklkLFxuICAgICAgZ3Vlc3RJZCxcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIFNFU1NJT05fRFVSQVRJT05fREFZUyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLFxuICAgIH07XG4gICAgXG4gICAgY3JlYXRlU2Vzc2lvbkNvb2tpZShzZXNzaW9uSWQsIHVuZGVmaW5lZCwgZ3Vlc3RJZCk7XG4gIH1cbiAgXG4gIHJldHVybiBzZXNzaW9uRGF0YTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgc2Vzc2lvbiB3aXRoIHVzZXIgSUQgYWZ0ZXIgYXV0aGVudGljYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNlc3Npb25XaXRoVXNlcihzZXNzaW9uSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBnZXRTZXNzaW9uRnJvbUNvb2tpZSgpO1xuICBcbiAgaWYgKHNlc3Npb25EYXRhICYmIHNlc3Npb25EYXRhLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKSB7XG4gICAgY3JlYXRlU2Vzc2lvbkNvb2tpZShzZXNzaW9uSWQsIHVzZXJJZCwgc2Vzc2lvbkRhdGEuZ3Vlc3RJZCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjb29raWVzIiwidjQiLCJ1dWlkdjQiLCJTRVNTSU9OX0NPT0tJRV9OQU1FIiwiU0VTU0lPTl9EVVJBVElPTl9EQVlTIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJjcmVhdGVTZXNzaW9uQ29va2llIiwic2Vzc2lvbklkIiwidXNlcklkIiwiZ3Vlc3RJZCIsImV4cGlyZXNBdCIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImNvb2tpZVN0b3JlIiwic2V0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSVNPU3RyaW5nIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJwcm9jZXNzIiwic2FtZVNpdGUiLCJleHBpcmVzIiwicGF0aCIsImdldFNlc3Npb25Gcm9tQ29va2llIiwic2Vzc2lvbkNvb2tpZSIsImdldCIsInZhbHVlIiwic2Vzc2lvbkRhdGEiLCJwYXJzZSIsImRlbGV0ZSIsImVycm9yIiwiY29uc29sZSIsImNsZWFyU2Vzc2lvbkNvb2tpZSIsImdldE9yQ3JlYXRlU2Vzc2lvbiIsIm5vdyIsInVuZGVmaW5lZCIsInVwZGF0ZVNlc3Npb25XaXRoVXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/session.ts\n");

/***/ }),

/***/ "(rsc)/./lib/tokens.ts":
/*!***********************!*\
  !*** ./lib/tokens.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addUsage: () => (/* binding */ addUsage),\n/* harmony export */   canConsume: () => (/* binding */ canConsume),\n/* harmony export */   getLimits: () => (/* binding */ getLimits),\n/* harmony export */   getPeriodKeys: () => (/* binding */ getPeriodKeys),\n/* harmony export */   getUsage: () => (/* binding */ getUsage)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n\nfunction getPeriodKeys(date = new Date()) {\n    const day = date.toISOString().slice(0, 10) // YYYY-MM-DD\n    ;\n    const month = date.toISOString().slice(0, 7) // YYYY-MM\n    ;\n    return {\n        day,\n        month\n    };\n}\nfunction getLimits(actor) {\n    if (actor.type === \"guest\") {\n        return {\n            daily: 300,\n            monthly: 2000\n        };\n    }\n    if (actor.plan === \"PREMIUM\") {\n        return {\n            daily: 5000,\n            monthly: 60000\n        };\n    }\n    return {\n        daily: 1500,\n        monthly: 12000\n    };\n}\nasync function getUsage(actor) {\n    const { day, month } = getPeriodKeys();\n    const [daily, monthly] = await Promise.all([\n        _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.tokenUsage.findUnique({\n            where: {\n                actorType_actorId_period_periodKey: {\n                    actorType: actor.type,\n                    actorId: actor.id,\n                    period: \"day\",\n                    periodKey: day\n                }\n            }\n        }),\n        _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.tokenUsage.findUnique({\n            where: {\n                actorType_actorId_period_periodKey: {\n                    actorType: actor.type,\n                    actorId: actor.id,\n                    period: \"month\",\n                    periodKey: month\n                }\n            }\n        })\n    ]);\n    return {\n        daily: daily?.tokens ?? 0,\n        monthly: monthly?.tokens ?? 0\n    };\n}\nasync function addUsage(actor, tokens) {\n    const { day, month } = getPeriodKeys();\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.$transaction([\n        _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.tokenUsage.upsert({\n            where: {\n                actorType_actorId_period_periodKey: {\n                    actorType: actor.type,\n                    actorId: actor.id,\n                    period: \"day\",\n                    periodKey: day\n                }\n            },\n            update: {\n                tokens: {\n                    increment: tokens\n                }\n            },\n            create: {\n                actorType: actor.type,\n                actorId: actor.id,\n                period: \"day\",\n                periodKey: day,\n                tokens\n            }\n        }),\n        _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.tokenUsage.upsert({\n            where: {\n                actorType_actorId_period_periodKey: {\n                    actorType: actor.type,\n                    actorId: actor.id,\n                    period: \"month\",\n                    periodKey: month\n                }\n            },\n            update: {\n                tokens: {\n                    increment: tokens\n                }\n            },\n            create: {\n                actorType: actor.type,\n                actorId: actor.id,\n                period: \"month\",\n                periodKey: month,\n                tokens\n            }\n        })\n    ]);\n}\nasync function canConsume(actor, tokens) {\n    const limits = getLimits(actor);\n    const usage = await getUsage(actor);\n    return {\n        allowed: usage.daily + tokens <= limits.daily && usage.monthly + tokens <= limits.monthly,\n        usage,\n        limits\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3pCLE1BQU0wQixRQUFRLE1BQU1yQixTQUFTTDtJQUM3QixPQUFPO1FBQ0wyQixTQUFTRCxNQUFNeEIsS0FBSyxHQUFHZSxVQUFVUSxPQUFPdkIsS0FBSyxJQUFJd0IsTUFBTXZCLE9BQU8sR0FBR2MsVUFBVVEsT0FBT3RCLE9BQU87UUFDekZ1QjtRQUNBRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbHVkYS1haS8uL2xpYi90b2tlbnMudHM/MTdjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5cbmV4cG9ydCB0eXBlIEFjdG9yID1cbiAgfCB7IHR5cGU6ICdndWVzdCc7IGlkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ3VzZXInOyBpZDogc3RyaW5nOyBwbGFuPzogJ1VTRVInIHwgJ1BSRU1JVU0nIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBlcmlvZEtleXMoZGF0ZSA9IG5ldyBEYXRlKCkpIHtcbiAgY29uc3QgZGF5ID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSAvLyBZWVlZLU1NLUREXG4gIGNvbnN0IG1vbnRoID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpIC8vIFlZWVktTU1cbiAgcmV0dXJuIHsgZGF5LCBtb250aCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW1pdHMoYWN0b3I6IEFjdG9yKSB7XG4gIGlmIChhY3Rvci50eXBlID09PSAnZ3Vlc3QnKSB7XG4gICAgcmV0dXJuIHsgZGFpbHk6IDMwMCwgbW9udGhseTogMjAwMCB9XG4gIH1cbiAgaWYgKGFjdG9yLnBsYW4gPT09ICdQUkVNSVVNJykge1xuICAgIHJldHVybiB7IGRhaWx5OiA1MDAwLCBtb250aGx5OiA2MDAwMCB9XG4gIH1cbiAgcmV0dXJuIHsgZGFpbHk6IDE1MDAsIG1vbnRobHk6IDEyMDAwIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzYWdlKGFjdG9yOiBBY3Rvcikge1xuICBjb25zdCB7IGRheSwgbW9udGggfSA9IGdldFBlcmlvZEtleXMoKVxuICBjb25zdCBbZGFpbHksIG1vbnRobHldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIHByaXNtYS50b2tlblVzYWdlLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgYWN0b3JUeXBlX2FjdG9ySWRfcGVyaW9kX3BlcmlvZEtleToge1xuICAgICAgICAgIGFjdG9yVHlwZTogYWN0b3IudHlwZSxcbiAgICAgICAgICBhY3RvcklkOiBhY3Rvci5pZCxcbiAgICAgICAgICBwZXJpb2Q6ICdkYXknLFxuICAgICAgICAgIHBlcmlvZEtleTogZGF5LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBwcmlzbWEudG9rZW5Vc2FnZS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGFjdG9yVHlwZV9hY3RvcklkX3BlcmlvZF9wZXJpb2RLZXk6IHtcbiAgICAgICAgICBhY3RvclR5cGU6IGFjdG9yLnR5cGUsXG4gICAgICAgICAgYWN0b3JJZDogYWN0b3IuaWQsXG4gICAgICAgICAgcGVyaW9kOiAnbW9udGgnLFxuICAgICAgICAgIHBlcmlvZEtleTogbW9udGgsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICBdKVxuICByZXR1cm4geyBkYWlseTogZGFpbHk/LnRva2VucyA/PyAwLCBtb250aGx5OiBtb250aGx5Py50b2tlbnMgPz8gMCB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRVc2FnZShhY3RvcjogQWN0b3IsIHRva2VuczogbnVtYmVyKSB7XG4gIGNvbnN0IHsgZGF5LCBtb250aCB9ID0gZ2V0UGVyaW9kS2V5cygpXG4gIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oW1xuICAgIHByaXNtYS50b2tlblVzYWdlLnVwc2VydCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBhY3RvclR5cGVfYWN0b3JJZF9wZXJpb2RfcGVyaW9kS2V5OiB7XG4gICAgICAgICAgYWN0b3JUeXBlOiBhY3Rvci50eXBlLFxuICAgICAgICAgIGFjdG9ySWQ6IGFjdG9yLmlkLFxuICAgICAgICAgIHBlcmlvZDogJ2RheScsXG4gICAgICAgICAgcGVyaW9kS2V5OiBkYXksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdXBkYXRlOiB7IHRva2VuczogeyBpbmNyZW1lbnQ6IHRva2VucyB9IH0sXG4gICAgICBjcmVhdGU6IHtcbiAgICAgICAgYWN0b3JUeXBlOiBhY3Rvci50eXBlLFxuICAgICAgICBhY3RvcklkOiBhY3Rvci5pZCxcbiAgICAgICAgcGVyaW9kOiAnZGF5JyxcbiAgICAgICAgcGVyaW9kS2V5OiBkYXksXG4gICAgICAgIHRva2VucyxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgcHJpc21hLnRva2VuVXNhZ2UudXBzZXJ0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGFjdG9yVHlwZV9hY3RvcklkX3BlcmlvZF9wZXJpb2RLZXk6IHtcbiAgICAgICAgICBhY3RvclR5cGU6IGFjdG9yLnR5cGUsXG4gICAgICAgICAgYWN0b3JJZDogYWN0b3IuaWQsXG4gICAgICAgICAgcGVyaW9kOiAnbW9udGgnLFxuICAgICAgICAgIHBlcmlvZEtleTogbW9udGgsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdXBkYXRlOiB7IHRva2VuczogeyBpbmNyZW1lbnQ6IHRva2VucyB9IH0sXG4gICAgICBjcmVhdGU6IHtcbiAgICAgICAgYWN0b3JUeXBlOiBhY3Rvci50eXBlLFxuICAgICAgICBhY3RvcklkOiBhY3Rvci5pZCxcbiAgICAgICAgcGVyaW9kOiAnbW9udGgnLFxuICAgICAgICBwZXJpb2RLZXk6IG1vbnRoLFxuICAgICAgICB0b2tlbnMsXG4gICAgICB9LFxuICAgIH0pLFxuICBdKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuQ29uc3VtZShhY3RvcjogQWN0b3IsIHRva2VuczogbnVtYmVyKSB7XG4gIGNvbnN0IGxpbWl0cyA9IGdldExpbWl0cyhhY3RvcilcbiAgY29uc3QgdXNhZ2UgPSBhd2FpdCBnZXRVc2FnZShhY3RvcilcbiAgcmV0dXJuIHtcbiAgICBhbGxvd2VkOiB1c2FnZS5kYWlseSArIHRva2VucyA8PSBsaW1pdHMuZGFpbHkgJiYgdXNhZ2UubW9udGhseSArIHRva2VucyA8PSBsaW1pdHMubW9udGhseSxcbiAgICB1c2FnZSxcbiAgICBsaW1pdHMsXG4gIH1cbn1cblxuXG4iXSwibmFtZXMiOlsicHJpc21hIiwiZ2V0UGVyaW9kS2V5cyIsImRhdGUiLCJEYXRlIiwiZGF5IiwidG9JU09TdHJpbmciLCJzbGljZSIsIm1vbnRoIiwiZ2V0TGltaXRzIiwiYWN0b3IiLCJ0eXBlIiwiZGFpbHkiLCJtb250aGx5IiwicGxhbiIsImdldFVzYWdlIiwiUHJvbWlzZSIsImFsbCIsInRva2VuVXNhZ2UiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJhY3RvclR5cGVfYWN0b3JJZF9wZXJpb2RfcGVyaW9kS2V5IiwiYWN0b3JUeXBlIiwiYWN0b3JJZCIsImlkIiwicGVyaW9kIiwicGVyaW9kS2V5IiwidG9rZW5zIiwiYWRkVXNhZ2UiLCIkdHJhbnNhY3Rpb24iLCJ1cHNlcnQiLCJ1cGRhdGUiLCJpbmNyZW1lbnQiLCJjcmVhdGUiLCJjYW5Db25zdW1lIiwibGltaXRzIiwidXNhZ2UiLCJhbGxvd2VkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/tokens.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/cookie","vendor-chunks/@auth","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Froute&page=%2Fapi%2Ftokens%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Froute.ts&appDir=%2FUsers%2Fjincho%2FDocuments%2FAluda%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjincho%2FDocuments%2FAluda&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();